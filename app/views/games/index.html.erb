<h1 style="text-align: center">Your Scores</h1>

<table class="ui sortable celled table">
  <thead>
    <tr>
      <th>Level</th>
      <th>Distance Away</th>
      <th>Time Taken</th>
      <th>Score</th>
      <th>Achievement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <% @games.each do |game| %>
      <td><%= game.location.city %></td>
      <td><%= game.score %> miles</td>
      <td><%= game.elapsed_time %> seconds</td>
      <td><%= game.points %></td>
      <% if game.points >= 5001 %>
        <td><i style="color:#965A38;" class="fa fa-diamond fa-2x"></i> Bronze</td>
      <% elsif game.points >= 2001 %>
        <td><i style="color:#A8A8A8;" class="fa fa-diamond fa-2x"></i> Silver</td>
      <% elsif game.points >= 101 %>
        <td><i style="color:#D9A441;" class="fa fa-diamond fa-2x"></i> Gold</td>
      <% else %>
      <td><i style="color:#CCC2C2;" class="fa fa-diamond fa-2x"></i> Platinum</td>
      <% end %>
    </tr>
      <% end %>
  </tbody>
</table>

<h1 style="text-align:center">Leaderboard</h1>
<table class="ui sortable celled table">
  <thead>
    <tr>
      <th>Level</th>
      <th>Username</th>
      <th>Distance Away</th>
      <th>Time Taken</th>
      <th>Score</th>
      <th>Achievement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <% @locations.each do |location| %>
      <td><%= location.city %></td>
      <td><%= link_to location.top_scorer.username, user_path(location.top_scorer) %></td>
      <td><%= location.top_game.score %> miles</td>
      <td><%= location.top_game.elapsed_time %> seconds</td>
      <td><%= location.top_game.points %></td>
      <% if location.top_game.points >= 5001 %>
        <td><i style="color:#965A38;" class="fa fa-diamond fa-2x"></i> Bronze</td>
      <% elsif location.top_game.points >= 2001 %>
        <td><i style="color:#A8A8A8;" class="fa fa-diamond fa-2x"></i> Silver</td>
      <% elsif location.top_game.points >= 101 %>
        <td><i style="color:#D9A441;" class="fa fa-diamond fa-2x"></i> Gold</td>
      <% else %>
      <td><i style="color:#CCC2C2;" class="fa fa-diamond fa-2x"></i> Platinum</td>
      <% end %>
    </tr>
      <% end %>
  </tbody>
</table>

<script>
$(document).ready(function() {

  $("table").tablesort();

});
</script>
