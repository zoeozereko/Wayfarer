<div class="reveal">
  <h3>You are in <%= @location.city %>!</h3>
</div>
<div class="show-page-map">
  <div id="show-map" style="width:100%; height:500px"></div>
</div>

<!-- <script>
// $(document).ready(function(){

  // var latLng = new google.maps.LatLng(30, -50);
  //
  // var options = {
  //   zoom: 3,
  //   center: latLng,
  //   scrollwheel: false,
  //   disableDoubleClickZoom: true,
  //   mapTypeId: google.maps.MapTypeId.ROADMAP,
  //   // locale: LANG
  // }
  //
  // var map = new google.maps.Map(document.getElementById('show-map'), options);
  //
  // var marker = new google.maps.Marker({
  //   position: latLng,
  //   map: map,
  // }); -->



<script type="text/javascript">
$(document).ready(function() {
// When the window has finished loading create our google map below
google.maps.event.addDomListener(window, 'load', init);

function init() {
   // Basic options for a simple Google Map
   // For more options see: https://developers.google.com/maps/documentation/javascript/reference#MapOptions
   var mapOptions = {
       // How zoomed in you want the map to start at (always required)
       zoom: 3,

       // The latitude and longitude to center the map (always required)
       center: new google.maps.LatLng(<%= @location.latitude %>, <%= @location.longitude %>), // New York

       // How you would like to style the map.
       // This is where you would paste any style found on Snazzy Maps.
       styles: [{"elementType":"labels.text","stylers":[{"visibility":"off"}]},{"featureType":"landscape.natural","elementType":"geometry.fill","stylers":[{"color":"#f5f5f2"},{"visibility":"on"}]},{"featureType":"administrative","stylers":[{"visibility":"off"}]},{"featureType":"transit","stylers":[{"visibility":"off"}]},{"featureType":"poi.attraction","stylers":[{"visibility":"off"}]},{"featureType":"landscape.man_made","elementType":"geometry.fill","stylers":[{"color":"#ffffff"},{"visibility":"on"}]},{"featureType":"poi.business","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","stylers":[{"visibility":"off"}]},{"featureType":"poi.place_of_worship","stylers":[{"visibility":"off"}]},{"featureType":"poi.school","stylers":[{"visibility":"off"}]},{"featureType":"poi.sports_complex","stylers":[{"visibility":"off"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#ffffff"},{"visibility":"simplified"}]},{"featureType":"road.arterial","stylers":[{"visibility":"simplified"},{"color":"#ffffff"}]},{"featureType":"road.highway","elementType":"labels.icon","stylers":[{"color":"#ffffff"},{"visibility":"off"}]},{"featureType":"road.highway","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"road.arterial","stylers":[{"color":"#ffffff"}]},{"featureType":"road.local","stylers":[{"color":"#ffffff"}]},{"featureType":"poi.park","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"water","stylers":[{"color":"#71c8d4"}]},{"featureType":"landscape","stylers":[{"color":"#e5e8e7"}]},{"featureType":"poi.park","stylers":[{"color":"#8ba129"}]},{"featureType":"road","stylers":[{"color":"#ffffff"}]},{"featureType":"poi.sports_complex","elementType":"geometry","stylers":[{"color":"#c7c7c7"},{"visibility":"off"}]},{"featureType":"water","stylers":[{"color":"#a0d3d3"}]},{"featureType":"poi.park","stylers":[{"color":"#91b65d"}]},{"featureType":"poi.park","stylers":[{"gamma":1.51}]},{"featureType":"road.local","stylers":[{"visibility":"off"}]},{"featureType":"road.local","elementType":"geometry","stylers":[{"visibility":"on"}]},{"featureType":"poi.government","elementType":"geometry","stylers":[{"visibility":"off"}]},{"featureType":"landscape","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"visibility":"simplified"}]},{"featureType":"road.local","stylers":[{"visibility":"simplified"}]},{"featureType":"road"},{"featureType":"road"},{},{"featureType":"road.highway"}]
   };

   // Get the HTML DOM element that will contain your map
   // We are using a div with id="map" seen below in the <body>
   var mapElement = document.getElementById('show-map');

   // Create the Google Map using our element and options defined above
   var map = new google.maps.Map(mapElement, mapOptions);

   // Let's also add a marker while we're at it
   var marker = new google.maps.Marker({
       position: new google.maps.LatLng(<%= @location.latitude %>, <%= @location.longitude %>),
       map: map,
   });

   var markerGuess = new google.maps.Marker({
       position: new google.maps.LatLng(<%= @game.lat_guess %>, <%= @game.lng_guess %>),
       map: map,
   });

   var drawCoordinates = [
     new google.maps.LatLng(<%= @location.latitude %>, <%= @location.longitude %>),
     new google.maps.LatLng(<%= @game.lat_guess %>, <%= @game.lng_guess %>)
   ];

   var draw = new google.maps.Polyline({
     path: drawCoordinates,
     geodesic: true,
     strokeColor: '#FF0000',
     strokeOpacity: 1.0,
     strokeWeight: 2
   });

   draw.setMap(map);
}

});
</script>
